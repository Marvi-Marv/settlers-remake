<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE building SYSTEM "../building.dtd" >
<building worker="SLAUGHTERER">
	<ground groundtype="GRASS" />
	<ground groundtype="EARTH" />
	<ground groundtype="FLATTENED" />

	<blocked dx="-3" dy="0" block="true" />
	<blocked dx="-3" dy="-1" block="true" />
	<blocked dx="-3" dy="-2" block="true" />
	<blocked dx="-3" dy="-3" block="true" />
	<blocked dx="-2" dy="-3" block="true" />
	<blocked dx="-1" dy="-3" block="true" />
	<blocked dx="0" dy="-2" block="true" />
	<blocked dx="1" dy="-1" block="true" />
	<blocked dx="-2" dy="-4" block="true" />
	<blocked dx="-3" dy="-4" block="true" />
	<blocked dx="-1" dy="-2" block="true" />
	<blocked dx="0" dy="-1" block="true" />
	<blocked dx="1" dy="0" block="true" />
	<blocked dx="0" dy="0" block="true" />
	<blocked dx="1" dy="1" block="true" />
	<blocked dx="-1" dy="-1" block="true" />
	<blocked dx="-2" dy="-2" block="true" />
	<blocked dx="-2" dy="-1" block="true" />
	<blocked dx="-1" dy="0" block="true" />
	<blocked dx="0" dy="1" block="true" />
	<blocked dx="1" dy="2" block="true" />
	<blocked dx="-2" dy="0" block="true" />
	<blocked dx="-1" dy="1" block="true" />
	<blocked dx="0" dy="2" block="true" />
	<blocked dx="1" dy="3" block="true" />
	<blocked dx="-2" dy="1" block="true" />
	<blocked dx="0" dy="3" block="true" />
	<blocked dx="2" dy="0" block="true" />
	<blocked dx="2" dy="1" block="true" />
	<blocked dx="2" dy="3" block="true" />
	<blocked dx="2" dy="4" block="true" />
	<blocked dx="3" dy="2" block="true" />
	<blocked dx="3" dy="1" block="true" />
	<blocked dx="-5" dy="-1" block="true" />
	<blocked dx="-4" dy="-2" block="true" />
	<blocked dx="-4" dy="-1" block="true" />
	<blocked dx="-4" dy="0" block="true" />
	<blocked dx="-3" dy="1" block="true" />
	<blocked dx="-2" dy="2" block="true" />
	<blocked dx="-1" dy="4" block="true" />
	<blocked dx="-1" dy="3" block="true" />
	<blocked dx="-1" dy="2" block="true" />
	<blocked dx="0" dy="4" block="true" />
	<blocked dx="1" dy="4" block="true" />
	<blocked dx="3" dy="4" block="true" />
	<blocked dx="2" dy="-1" block="true" />
	<blocked dx="1" dy="-2" block="true" />
	<blocked dx="0" dy="-3" block="true" />
	<blocked dx="-1" dy="-4" block="true" />
	<blocked dx="-2" dy="-5" block="true" />
	<blocked dx="-3" dy="-5" block="true" />
	<blocked dx="-1" dy="-5" block="true" />
	<blocked dx="-1" dy="-6" block="true" />
	<blocked dx="0" dy="-5" block="true" />
	<blocked dx="1" dy="-3" block="true" />
	<blocked dx="1" dy="-5" block="true" />
	<blocked dx="1" dy="-4" block="true" />
	<blocked dx="2" dy="-4" block="true" />
	<blocked dx="3" dy="-3" block="true" />
	<blocked dx="4" dy="-2" block="true" />
	<blocked dx="4" dy="-1" block="true" />
	<blocked dx="5" dy="1" block="true" />
	<blocked dx="5" dy="0" block="true" />
	<blocked dx="2" dy="-3" block="true" />
	<blocked dx="2" dy="-2" block="true" />
	<blocked dx="3" dy="-2" block="true" />
	<blocked dx="4" dy="0" block="true" />
	<blocked dx="3" dy="-1" block="true" />
	<blocked dx="3" dy="0" block="true" />
	<blocked dx="0" dy="-6" block="true" />
	<blocked dx="4" dy="1" block="true" />
	<blocked dx="5" dy="2" block="true" />
	<blocked dx="-4" dy="1" block="true" />
	<blocked dx="-3" dy="2" block="true" />
	<blocked dx="-2" dy="3" block="true" />
	<blocked dx="1" dy="5" block="true" />
	<blocked dx="2" dy="5" block="true" />
	<blocked dx="-5" dy="0" block="true" />
	<blocked dx="-4" dy="-3" block="true" />
	<blocked dx="-4" dy="-4" block="true" />
	<blocked dx="-4" dy="-5" block="true" />
	<blocked dx="-5" dy="1" block="true" />
	<blocked dx="-6" dy="-1" block="true" />

	<blocked dx="6" dy="6" block="false" />
	<blocked dx="6" dy="5" block="false" />
	<blocked dx="5" dy="4" block="false" />
	<blocked dx="4" dy="3" block="false" />
	<blocked dx="4" dy="4" block="false" />
	<blocked dx="5" dy="5" block="false" />
	<blocked dx="3" dy="5" block="false" />
	<blocked dx="4" dy="5" block="false" />
	<blocked dx="6" dy="2" block="false" />
	<blocked dx="3" dy="-4" block="false" />
	<blocked dx="-2" dy="-6" block="false" />
	<blocked dx="-3" dy="-6" block="false" />
	<blocked dx="-4" dy="-6" block="false" />
	<blocked dx="2" dy="-5" block="false" />
	<blocked dx="-2" dy="-7" block="false" />
	<blocked dx="-1" dy="-7" block="false" />
	<blocked dx="-5" dy="-2" block="false" />
	<blocked dx="-2" dy="4" block="false" />
	<blocked dx="-3" dy="3" block="false" />
	<blocked dx="-4" dy="2" block="false" />
	<blocked dx="-1" dy="5" block="false" />
	<blocked dx="0" dy="5" block="false" />
	<blocked dx="1" dy="6" block="false" />
	<blocked dx="2" dy="6" block="false" />
	<blocked dx="3" dy="6" block="false" />
	<blocked dx="6" dy="4" block="false" />
	<blocked dx="6" dy="3" block="false" />
	<blocked dx="5" dy="3" block="false" />
	<blocked dx="4" dy="2" block="false" />
	<blocked dx="5" dy="-1" block="false" />
	<blocked dx="4" dy="-3" block="false" />
	<blocked dx="6" dy="1" block="false" />
	<blocked dx="-5" dy="-3" block="false" />
	<blocked dx="2" dy="2" block="false" />
	<blocked dx="3" dy="3" block="false" />
	<blocked dx="1" dy="-6" block="false" />
	<blocked dx="0" dy="-7" block="false" />
	
	<door dx="2" dy="2" />
	
	<constructionStack dx="4" dy="5" material="PLANK" buildrequired="2" />
	<constructionStack dx="5" dy="4" material="STONE" buildrequired="6" />
	<requestStack dx="4" dy="2" material="PIG" />
	<offerStack dx="5" dy="5" material="MEAT" />

	<bricklayer dx="-4" dy="2" direction="NORTH_EAST" />
	<bricklayer dx="-3" dy="3" direction="NORTH_EAST" />
	<bricklayer dx="1" dy="6" direction="NORTH_EAST" />
	<bricklayer dx="3" dy="6" direction="NORTH_WEST" />
	<bricklayer dx="4" dy="2" direction="NORTH_WEST" />

	<flag dx="-1" dy="-3" />

	<buildmark dx="-3" dy="2" />
	<buildmark dx="-3" dy="-6" />
	<buildmark dx="2" dy="6" />
	<buildmark dx="3" dy="5" />
	<buildmark dx="4" dy="-2" />
	<buildmark dx="3" dy="-4" />

	<image file="24" for="GUI" type="GUI" sequence="12" image="0"/>
	<image file="23" for="FINAL" type="SETTLER" sequence="23" image="0"/>
	<image file="23" for="BUILD" type="SETTLER" sequence="23" image="1"/>

	<startjob name="gohome"/>

	<!-- reset -->
	<job name="gohome" type="GO_TO" successjob="hide" failjob="hide" dx="2" dy="2"/>
	<job name="hide" type="HIDE" successjob="wait" failjob="wait"/>
	<job name="wait" type="WAIT" successjob="check1" failjob="wait" time="3"/>
	<job name="check1" type="AVAILABLE" successjob="check2" failjob="wait" dx="4" dy="2" material="PIG"/>
	<job name="check2" type="NOT_FULL" successjob="A_wait" failjob="wait" dx="5" dy="5" />

	<!-- take a pig -->
    <job name="A_wait"   type="WAIT"         successjob="A_show"  failjob="gohome" time="1" />
	<job name="A_show"   type="SHOW"         successjob="gotopig" failjob="gohome" dx="2" dy="2" />
	<job name="gotopig"  type="GO_TO"        successjob="lookatpig" failjob="gohome" dx="4" dy="2"/>
	<job name="lookatpig" type="LOOK_AT"     successjob="A_take"  failjob="gohome" direction="NORTH_EAST"/>
	<job name="A_take"	 type="TAKE"         successjob="A_back" failjob="gohome" material="PIG"/>
	<job name="A_back"   type="GO_TO" 		 successjob="A_hide" failjob="hide" dx="2" dy="2"/>
	<job name="A_hide"   type="HIDE"         successjob="wait1"  failjob="hide" />

	<job name="wait1"   type="WAIT"          successjob="startwork"  failjob="hide" time="1" />
	<job name="startwork" 	type="START_WORKING" successjob="wait2" failjob="hide"		/>
	<job name="wait2"   type="WAIT"          successjob="B_start"  failjob="hide" time="4.7" />

	<job name="B_start"  type="SET_MATERIAL" successjob="B_show"   failjob="gohome" material="MEAT" />
	<job name="B_show"   type="SHOW"         successjob="B_drop1" failjob="gohome" dx="2" dy="2" />
	<job name="B_drop1"   type="GO_TO" 		 successjob="look" failjob="gohome" dx="5" dy="5"/>
	<job name="look"	 type="LOOK_AT"      successjob="B_drop2"  failjob="gohome" direction="NORTH_EAST"/>
	<job name="B_drop2"   type="DROP"         successjob="gohome"  failjob="gohome" material="MEAT"/>

</building>

